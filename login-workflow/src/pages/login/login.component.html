<div class="pxb-login-header">
    <div #header>
        <ng-content select="[pxb-login-header]"></ng-content>
    </div>
    <div *ngIf="isEmpty(headerEl)">DEFAULT HEADER</div>
</div>

<button
    *ngIf="enableDebugMode"
    mat-raised-button
    class="pxb-login-debug-button"
    color="primary"
    (click)="toggleDebugMode()"
>
    DEBUG
</button>

<div *ngIf="debugMode" class="pxb-login-debug-message">
    <div class="mat-title">DEBUG MODE</div>
</div>

<form>
    <mat-form-field appearance="fill">
        <mat-label>Email Address</mat-label>
        <input
            id="email"
            name="email"
            type="email"
            matInput
            [formControl]="emailFormControl"
            [errorStateMatcher]="matcher"
            autocomplete="off"
        />
        <mat-error
            *ngIf="
                emailFormControl.hasError('email') &&
                !emailFormControl.hasError('required') &&
                !emailFormControl.hasError(customErrorName)
            "
        >
            Please enter a valid email address
        </mat-error>
        <mat-error *ngIf="emailFormControl.hasError(customErrorName)">
            {{ emailFormControl.errors[customErrorName].message }}
        </mat-error>
        <mat-error *ngIf="emailFormControl.hasError('required')"> Email is <strong>required</strong> </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Password</mat-label>
        <input
            id="password"
            name="password"
            matInput
            [type]="isPasswordVisible ? 'text' : 'password'"
            [formControl]="passwordFormControl"
            [errorStateMatcher]="matcher"
            autocomplete="off"
        />
        <button mat-icon-button matSuffix (click)="togglePasswordVisibility()">
            <mat-icon>{{ isPasswordVisible ? 'visibility' : 'visibility_off' }}</mat-icon>
        </button>
    </mat-form-field>
</form>

<div class="pxb-login-remember-me-login-wrapper">
    <mat-checkbox class="pxb-login-remember-me-checkbox" [(ngModel)]="rememberMe">Remember Me</mat-checkbox>
    <button
        mat-flat-button
        color="primary"
        class="pxb-login-button"
        (click)="login()"
        [disabled]="isLoading || !isValidFormEntries()"
    >
        Log In
    </button>
</div>

<div
    *ngIf="debugMode"
    class="pxb-login-test-forgot-password-email-link mat-body-2"
    (click)="testForgotPasswordEmail()"
>
    [Test Forgot Password Email]
</div>
<div *ngIf="debugMode" class="pxb-login-test-invite-register-link mat-body-2" (click)="testInviteRegister()">
    [Test Invite Register]
</div>
<div class="pxb-login-password-link mat-body-2" (click)="forgotPassword()">Forgot your Password?</div>
<div class="mat-body-2" style="text-align: center;">Need an account?</div>
<div
    *ngIf="debugMode || showSelfRegistration"
    class="pxb-login-create-account-link mat-body-2"
    (click)="createAccount()"
>
    Create Account
</div>
<div class="pxb-login-contact-eaton-support-link mat-body-2" (click)="contactSupport()">
    Contact an Eaton Support Representative
</div>

<div class="pxb-login-footer">
    <div #footer>
        <ng-content select="[pxb-login-footer]"></ng-content>
    </div>
    <div *ngIf="isEmpty(footerEl)">DEFAULT FOOTER</div>
</div>
