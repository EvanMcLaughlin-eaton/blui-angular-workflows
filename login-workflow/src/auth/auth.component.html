<div class="blui-auth-content" [style.backgroundImage]="'url(' + backgroundImage + ')'">
    <mat-card class="blui-auth-inner-card" [class.blui-auth-splash-screen]="!isSecurityInitiated">
        <blui-auth-loading-overlay *ngIf="isLoading" [loadingMessage]="loadingMessage"></blui-auth-loading-overlay>

        <ng-container *ngIf="isSecurityInitiated">
            <!-- Login  -->
            <div class="blui-auth-login" *ngIf="showLogin">
                <template [ngTemplateOutlet]="loginRef"></template>
                <blui-login *ngIf="!loginRef"></blui-login>
            </div>

            <!-- Reset Password -->
            <div class="blui-auth-reset-password" *ngIf="showResetPassword">
                <template [ngTemplateOutlet]="resetPasswordRef"></template>
                <blui-reset-password *ngIf="!resetPasswordRef"></blui-reset-password>
            </div>

            <!-- Create Account (Self-Register) -->
            <div class="blui-auth-create-account" *ngIf="showCreateAccount">
                <template [ngTemplateOutlet]="createAccountRef"></template>
                <blui-create-account *ngIf="!createAccountRef"></blui-create-account>
            </div>

            <!-- Create Account (Invited) -->
            <div class="blui-auth-create-account-invite" *ngIf="showCreateAccountInvite">
                <template [ngTemplateOutlet]="createAccountInviteRef"></template>
                <blui-create-account-invite *ngIf="!createAccountInviteRef"></blui-create-account-invite>
            </div>

            <!-- Forgot Password -->
            <div class="blui-auth-forgot-password" *ngIf="showForgotPassword">
                <template [ngTemplateOutlet]="forgotPasswordRef"></template>
                <blui-forgot-password *ngIf="!forgotPasswordRef"></blui-forgot-password>
            </div>

            <!-- Contact Support -->
            <div class="blui-auth-contact-support" *ngIf="showContactSupport">
                <template [ngTemplateOutlet]="contactSupportRef"></template>
                <blui-contact-support *ngIf="!contactSupportRef"></blui-contact-support>
            </div>
        </ng-container>

        <div *ngIf="!isSecurityInitiated" class="blui-auth-splash-screen-content">
            <img [src]="projectImage" style="max-width: 100%; max-height: 80px; margin-bottom: 48px" />
            <mat-spinner diameter="40"></mat-spinner>
        </div>
    </mat-card>
</div>
