<div class="pxb-auth-content" [style.backgroundImage]="'url(' + backgroundImage + ')'">
    <mat-card class="pxb-auth-inner-card" [class.pxb-auth-splash-screen]="!isSecurityInitiated">
        <pxb-auth-loading-overlay *ngIf="isLoading" [loadingMessage]="loadingMessage"></pxb-auth-loading-overlay>

        <ng-container *ngIf="isSecurityInitiated">
            <!-- Login  -->
            <div class="pxb-auth-login" *ngIf="showLogin">
                <template [ngTemplateOutlet]="loginRef"></template>
                <pxb-login *ngIf="!loginRef"></pxb-login>
            </div>

            <!-- Reset Password -->
            <div class="pxb-auth-reset-password" *ngIf="showResetPassword">
                <template [ngTemplateOutlet]="resetPasswordRef"></template>
                <pxb-reset-password *ngIf="!resetPasswordRef"></pxb-reset-password>
            </div>

            <!-- Create Account (Self-Register) -->
            <div class="pxb-auth-create-account" *ngIf="showCreateAccount">
                <template [ngTemplateOutlet]="createAccountRef"></template>
                <pxb-create-account *ngIf="!createAccountRef"></pxb-create-account>
            </div>

            <!-- Create Account (Invited) -->
            <div class="pxb-auth-create-account-invite" *ngIf="showCreateAccountInvite">
                <template [ngTemplateOutlet]="createAccountInviteRef"></template>
                <pxb-create-account-invite *ngIf="!createAccountInviteRef"></pxb-create-account-invite>
            </div>

            <!-- Forgot Password -->
            <div class="pxb-auth-forgot-password" *ngIf="showForgotPassword">
                <template [ngTemplateOutlet]="forgotPasswordRef"></template>
                <pxb-forgot-password *ngIf="!forgotPasswordRef"></pxb-forgot-password>
            </div>

            <!-- Contact Support -->
            <div class="pxb-auth-contact-support" *ngIf="showContactSupport">
                <template [ngTemplateOutlet]="contactSupportRef"></template>
                <pxb-contact-support *ngIf="!contactSupportRef"></pxb-contact-support>
            </div>
        </ng-container>

        <div *ngIf="!isSecurityInitiated" class="pxb-auth-splash-screen-content">
            <img [src]="projectImage" style="max-width: 100%; max-height: 80px; margin-bottom: 48px;" />
            <mat-spinner diameter="40"></mat-spinner>
        </div>
    </mat-card>
</div>
